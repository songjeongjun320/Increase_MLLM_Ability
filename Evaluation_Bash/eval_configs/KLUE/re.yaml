task: re
dataset_path: klue
dataset_name: re
test_split: validation

output_type: generate_until

generation_kwargs:
  until: ["\n\n", "\n"]
  max_gen_toks: 50
  temperature: 0.0

metric_list:
  - metric: exact_match
    aggregation: mean
    higher_is_better: true

description: "주어진 문장에서 두 개체 간의 관계를 분류하세요."

doc_to_text: |
  문장: {{sentence}}
  개체1: {{subject_entity.word}} ({{subject_entity.type}})
  개체2: {{object_entity.word}} ({{object_entity.type}})

  위 문장에서 개체1과 개체2 사이의 관계를 예측하세요. 관계가 없으면 'no_relation'을 답하세요.

  관계:

# RE 관계 라벨을 문자열로 변환
doc_to_target: |
  {% set label_names = ['no_relation', 'org:dissolved', 'org:founded', 'org:place_of_headquarters', 'org:alternate_names', 'org:member_of', 'org:members', 'org:political/religious_affiliation', 'org:product', 'org:founded_by', 'org:top_members/employees', 'org:number_of_employees/members', 'per:date_of_birth', 'per:date_of_death', 'per:place_of_birth', 'per:place_of_death', 'per:place_of_residence', 'per:origin', 'per:employee_of', 'per:schools_attended', 'per:alternate_names', 'per:parents', 'per:children', 'per:siblings', 'per:spouse', 'per:other_family', 'per:colleagues', 'per:product', 'per:religion', 'per:title'] %}
  {{ label_names[label] }}

fewshot_config:
  sampler: first_n

num_fewshot: 3  # RE는 복잡하므로 적은 few-shot
should_decontaminate: true
metadata:
  version: 1.0