# 이 태스크의 고유 이름
task: mmlu_ko_custom

dataset_path: json
dataset_kwargs:
  data_files: "2_datasets/MMLU/MMLU_KO_Openai.json"
test_split: train

# 평가 방식: 객관식, 채점: 정확도
output_type: multiple_choice
metric_list:
  - metric: acc
    aggregation: mean
    higher_is_better: true

# 프롬프트 생성 규칙
description: "다음은 {{Subject}} 분야의 객관식 질문입니다. 가장 적절한 보기의 알파벳을 선택하여 답해주세요."

# 실제 문제 형식 (데이터 파일의 필드 이름과 일치시켜야 함)
doc_to_text: "질문: {{Question}}\nA. {{A}}\nB. {{B}}\nC. {{C}}\nD. {{D}}\n정답:"

# 퓨샷을 위한 그룹화 기준 (같은 과목에서 예시를 뽑음)
fewshot_config:
  sampler: first_n
  
# 데이터 필드를 lm-eval이 이해하는 형식으로 매핑
doc_to_choice: ["A", "B", "C", "D"]
doc_to_target: "Answer"  # 데이터의 'Answer' 필드에 정답 알파벳이 있음을 알려줌

# 추가 설정
num_fewshot: 5  # 기본 퓨샷 수
should_decontaminate: true
metadata:
  version: 1.0